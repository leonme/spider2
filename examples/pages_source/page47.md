---
title: HTML5大数据可视化效果（二）可交互地铁线路图
date: 2016-11-04 16:17:31
comments: true
categories: HTML5
---

#HTML5大数据可视化效果（二）可交互地铁线路图
1 nodeName=undefined nodeValue=undefined nodeType=undefined
<p><span id="wmd-input-section-3" class="wmd-input-section"><span class="token h1"><span class="token md md-hash"><strong>前言</strong></span></span></span></p><p>&nbsp;</p><p><span id="wmd-input-section-3" class="wmd-input-section"><span class="token h1"><span class="token md md-hash"><span class="token lf"><span class="token p">最近特别忙，承蒙大伙关照，3D机房的项目一个接着一个，领了一帮小弟，搞搞传帮带，乌飞兔走，转眼已经菊黄蟹肥&hellip;&hellip;有个小弟很不错，勤奋好学，很快就把API都摸透了，自己折腾着做了个HTML5的魔都的地铁线路图，能拖能拽的，还和电子地图做了交互。哥决定把小弟的成果纳入&ldquo;<span class="token link"><span class="token md md-bracket-start"><span class="token md md-underlined-text"><a href="http://www.cnblogs.com/twaver/p/4547924.html" target="_blank">HTML5大数据可视化效果</a><span class="token md md-bracket-end"><span class="token md md-href"><span class="token md md-paren-end">&rdquo;系列，以示鼓励（P.S. 其实还挺有压力的，后浪推前浪，新人赶旧人。我们这些老鸟也得注意，免得让00后给抢了饭碗）</span></span></span></span></span></span></span></span></span></span></span></p><p>&nbsp;</p><p><strong><span id="wmd-input-section-3" class="wmd-input-section"><span class="token h1"><span class="token md md-hash"><span class="token lf"><span class="token p"><span class="token link"><span class="token md md-bracket-start"><span class="token md md-underlined-text"><span class="token md md-bracket-end"><span class="token md md-href"><span class="token md md-paren-end"><span class="token lf"><span id="wmd-input-section-4" class="wmd-input-section"><span class="token h1"><span class="token md md-hash">效果图对比</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></strong></p><p>&nbsp;</p><p><span id="wmd-input-section-3" class="wmd-input-section"><span class="token h1"><span class="token md md-hash"><span class="token lf"><span class="token p"><span class="token link"><span class="token md md-bracket-start"><span class="token md md-underlined-text"><span class="token md md-bracket-end"><span class="token md md-href"><span class="token md md-paren-end"><span class="token lf"><span id="wmd-input-section-4" class="wmd-input-section"><span class="token h1"><span class="token md md-hash"><span class="token lf"><span class="token p">网上的地铁图还是很多的，小弟选了这张比较新的做参考。想当年哥来魔都打拼时，图上可就一红一绿打个叉&hellip;&hellip;暴露年龄的话不多说，看图：</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p><span class="wmd-input-section"><span class="token h1"><span class="token md md-hash"><span class="token lf"><span class="token p"><span class="token link"><span class="token md md-bracket-start"><span class="token md md-underlined-text"><span class="token md md-bracket-end"><span class="token md md-href"><span class="token md md-paren-end"><span class="token lf"><span class="wmd-input-section"><span class="token h1"><span class="token md md-hash"><span class="token lf"><span class="token p"><img src="http://images2015.cnblogs.com/blog/311983/201611/311983-20161103121614533-2062155906.jpg" alt=""></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p><span class="token p">再来看看小弟做的：</span></p><p><span class="token p"><img src="http://images2015.cnblogs.com/blog/311983/201611/311983-20161103121656721-376610979.jpg" alt=""></span></p><p><span class="token p">我是一眼看不出区别，但这可不是一张效果图，而是一个新手仅用了几天做出来的东西，而且里面许多美化和调整是通过程序自动完成的，这就不容易了。更重要的是，它并不是一张死图，而是纯矢量、可交互、有动态效果、无失真缩放的拓扑图！我们先简单看一下交互效果，后面可以详细说说代码的实现。</span></p><p>&nbsp;</p><p><strong><span class="token p">文本提示弹弹弹</span></strong></p><p>&nbsp;</p><p><span class="token p"><span class="token p">首先，把鼠标移到站点、路段、图标等位置，都会有文本提示弹出，这个比较基本，百度家的就有，小弟也就放了比较简单的弹出内容。如果加上基本介绍啊、相关提示啊、周边信息啊&hellip;&hellip;要是加上广告，就可以赚钱了&hellip;&hellip;反正什么都可以加嘛，就是一个setToolTip命令而已。</span></span></p><p>&nbsp;</p><p><img src="http://images2015.cnblogs.com/blog/311983/201611/311983-20161103121921361-1178958456.gif" alt=""></p><p>&nbsp;</p><p><strong>站点图标变变变</strong></p><p>&nbsp;</p><p><span class="token p">当鼠标移到站点上时，站点图标做了放大效果，这个效果很贴心，看了下百度家，用的是发光效果。</span></p><p>&nbsp;</p><p><span class="token p"><img src="http://images2015.cnblogs.com/blog/311983/201611/311983-20161103122154049-1255275872.gif" alt=""></span></p><p>&nbsp;</p><p><span class="token p">实现的方法也很简便，就是在注册站点矢量图形时，加入了动态判断。以下注册普通站点矢量图形的代码：</span></p><p>&nbsp;</p><div class="cnblogs_code"> <pre>twaver.Util.registerImage('station'<span style="color: #000000;">,{     w: linkWidth</span>*1.6<span style="color: #000000;">,     h: linkWidth</span>*1.6<span style="color: #000000;">,     v: </span><span style="color: #0000ff;">function</span><span style="color: #000000;"> (data, view) {         </span><span style="color: #0000ff;">var</span> result =<span style="color: #000000;"> [];         </span><span style="color: #0000ff;">if</span>(data.getClient('focus'<span style="color: #000000;">)){             result.push({                 shape: </span>'circle'<span style="color: #000000;">,                 r: linkWidth</span>*0.7<span style="color: #000000;">,                 lineColor:  data.getClient(</span>'lineColor'<span style="color: #000000;">),                 lineWidth: linkWidth</span>*0.2<span style="color: #000000;">,                 fill: </span>'white'<span style="color: #000000;">,             });             result.push({                 shape: </span>'circle'<span style="color: #000000;">,                 r: linkWidth</span>*0.2<span style="color: #000000;">,                 fill:  data.getClient(</span>'lineColor'<span style="color: #000000;">),             });         }</span><span style="color: #0000ff;">else</span><span style="color: #000000;">{             result.push({                 shape: </span>'circle'<span style="color: #000000;">,                 r: linkWidth</span>*0.6<span style="color: #000000;">,                 lineColor: data.getClient(</span>'lineColor'<span style="color: #000000;">),                 lineWidth: linkWidth</span>*0.2<span style="color: #000000;">,                 fill: </span>'white'<span style="color: #000000;">,             });         }         </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> result;     } });</span></pre> </div><p>&nbsp;</p><p><strong>动画效果拽拽拽</strong></p><p>&nbsp;</p><p><span class="token p">从上图还可以看到，在换乘站图标中，除了增加了颜色，还实现了旋转效果。这个就秒杀百度家了。<span class="token lf"> <span class="token p">来看代码：</span></span></span></p><p>&nbsp;</p><div class="cnblogs_code"> <pre>1.    twaver.Util.registerImage('rotateArrow'<span style="color: #000000;">, { </span>2.        w: 124<span style="color: #000000;">, </span>3.        h: 124<span style="color: #000000;">, </span>4<span style="color: #000000;">.        v: [{ </span>5.            shape: 'vector'<span style="color: #000000;">, </span>6.            name: 'doubleArrow'<span style="color: #000000;">, </span>7.            rotate: 360<span style="color: #000000;">, </span>8<span style="color: #000000;">.            animate: [{ </span>9.                attr: 'rotate'<span style="color: #000000;">, </span>10.                to: 0<span style="color: #000000;">, </span>11.                dur: 2000<span style="color: #000000;">, </span>12.                reverse: <span style="color: #0000ff;">false</span><span style="color: #000000;">, </span>13<span style="color: #000000;">.                repeat: Number.POSITIVE_INFINITY </span>14<span style="color: #000000;">.            }] </span>15<span style="color: #000000;">.        }] </span>16.    });</pre> </div><p>&nbsp;</p><p><span class="token p">当然这对于TWaver来说也很容易，只不过对rotate属性进行了动态改变而已。<span class="token lf"> <span class="token lf"> <span class="token p">另外，在单击和双击站点时，还实现了selected和loading的动画效果，值得点赞！</span></span></span></span></p><p>&nbsp;</p><p><span class="token p"><span class="token lf"><span class="token lf"><span class="token p"><img src="http://images2015.cnblogs.com/blog/311983/201611/311983-20161103141545565-2010504104.gif" alt=""><img src="http://images2015.cnblogs.com/blog/311983/201611/311983-20161103141605065-1237423734.gif" alt=""></span></span></span></span></p><p>&nbsp;</p><p>&nbsp;</p><p><strong>混合缩放炫炫炫</strong></p><p>&nbsp;</p><p><span class="token p">无失真缩放是矢量图的先天优势，小弟也掌握得炉火纯青，把TWaver的混合缩放模式用到极致，还有缩放比例控制、文字自动隐藏等小功能，方便订制。</span></p><p>&nbsp;</p><p><span class="token p"><img src="http://images2015.cnblogs.com/blog/311983/201611/311983-20161103141731096-1466288424.gif" alt=""></span></p><p>&nbsp;</p><p><span class="token p">代码也不复杂：</span></p><p>&nbsp;</p><div class="cnblogs_code"> <pre>1.    network.setZoomManager(<span style="color: #0000ff;">new</span><span style="color: #000000;"> twaver.vector.MixedZoomManager(network)); </span>2.    network.setMinZoom(0.2<span style="color: #000000;">); </span>3.    network.setMaxZoom(3<span style="color: #000000;">); </span>4<span style="color: #000000;">.    network.setZoomVisibilityThresholds({ </span>5.        label : 0.6<span style="color: #000000;">, </span>6.    });</pre> </div><p>&nbsp;</p><p><strong>交互功能用起来</strong></p><p>&nbsp;</p><p><span class="token p">小弟很自豪地给我介绍这个功能：图标可以自由拖动，松开后会自动弹回。哥问小弟这有什么用，他一本正经地说：证明图是活的！</span></p><p>&nbsp;</p><p><span class="token p"><img src="http://images2015.cnblogs.com/blog/311983/201611/311983-20161103141931643-856207231.gif" alt=""></span></p><p>&nbsp;</p><p>&nbsp;</p><p><span class="token p">好吧你赢了，虽然是个没什么卵用的功能，但闲的蛋疼的时候可以随便玩上几十分钟我也是信的。</span></p><p>&nbsp;</p><p><strong><span class="token p">连续单击同一站点</span></strong></p><p>&nbsp;</p><p><span class="token p"><span class="token p">连续单击同一站点（注意不是双击），可以将经过此站点的所有线路突出显示出来。小弟说加入这个功能纯粹因为简单易做，我&hellip;&hellip;竟然表示非常理解，谁年轻时没耍过这类轻松又讨好的小招数呢？</span></span></p><p>&nbsp;</p><p><span class="token p"><span class="token p"><img src="http://images2015.cnblogs.com/blog/311983/201611/311983-20161103143834486-1796262740.gif" alt=""></span></span></p><p>&nbsp;</p><p>&nbsp;</p><p><strong>双击站点</strong></p><p>&nbsp;</p><p><span class="token p">双击站点，竟然弹出了本站周边的电子地图！知道引入他山之玉，看来小子可教啊。我发现他的定位方法，有的是用经纬度，有的是关键词查询。小弟狡黠地说，开始是人工查每个站点经纬度的，干了一段儿发现太麻烦，后来改路子了。马大大说的，懒人改变世界，我服!</span></p><p>&nbsp;</p><p><span class="token p"><img src="http://images2015.cnblogs.com/blog/311983/201611/311983-20161103143940158-1173344247.gif" alt=""></span></p><p>&nbsp;</p><p>&nbsp;</p><p><span class="token p">最后来八一八程序设计的思路吧，小弟是棵好苗子，能做出那么像样的程序，必然是深思熟虑过的。不想再听我啰嗦的朋友，也可以直接发邮件给我，<span class="token link"><span class="token md md-bracket-start"><span class="token md md-underlined-text">tw-service@servasoft.com<span class="token md md-bracket-end"><span class="token md md-href"><span class="token md md-paren-end">，来鉴赏下小弟的成果。</span></span></span></span></span></span></span></p><p>&nbsp;</p><p><strong><span class="token p"><span class="token link"><span class="token md md-bracket-start"><span class="token md md-underlined-text"><span class="token md md-bracket-end"><span class="token md md-href"><span class="token md md-paren-end">数据文件的整理</span></span></span></span></span></span></span></strong></p><p>&nbsp;</p><p><span class="token p"><span class="token link"><span class="token md md-bracket-start"><span class="token md md-underlined-text"><span class="token md md-bracket-end"><span class="token md md-href"><span class="token md md-paren-end"><span class="token p">数据格式，选择了JavaScript原生支持的json文件，直观方便。<span class="token lf"> <span class="token p">数据结构，按照站点、线路、杂项三大块来组织，结构清晰，利于遍历、查询等操作。</span></span></span></span></span></span></span></span></span></span></p><p>&nbsp;</p><div class="cnblogs_code"> <pre>1<span style="color: #000000;">.    { </span>2.        "stations"<span style="color: #000000;">:{ </span>3.            "l01s01"<span style="color: #000000;">:{ }, </span>4<span style="color: #000000;">.            &hellip;&hellip;&hellip;&hellip; </span>5<span style="color: #000000;">.        } </span>6.        "lines"<span style="color: #000000;">:{ </span>7.            "l01"<span style="color: #000000;">:{&hellip;&hellip;}, </span>8<span style="color: #000000;">.            &hellip;&hellip;&hellip;&hellip; </span>9<span style="color: #000000;">.        } </span>10.        "sundrys"<span style="color: #000000;">:{ </span>11.            "railwaystationshanghai"<span style="color: #000000;">:{&hellip;&hellip;}, </span>12<span style="color: #000000;">.            &hellip;&hellip;&hellip;&hellip; </span>13<span style="color: #000000;">.        } </span>14.    }</pre> </div><p>&nbsp;</p><p><span class="token p">命名比较规范，通过名字就可以看出基本信息（例如&ldquo;l01s01&rdquo;就是1号线第1个站点），甚至直接利用名字就可以进行查询和遍历。</span></p><p>&nbsp;</p><div class="cnblogs_code"> <pre>1.    "l01s01"<span style="color: #000000;">:{ </span>2.        "id":"l01s01"<span style="color: #000000;">, </span>3.        "name":"莘庄"<span style="color: #000000;">, </span>4.        "loc":{"x":419,"y":1330<span style="color: #000000;">}, </span>5.        "label":"bottomright.bottomright"<span style="color: #000000;">, </span>6<span style="color: #000000;">.    }, </span>7.    &hellip;&hellip;&hellip;&hellip;</pre> </div><p>&nbsp;</p><p><strong>站点路线的创建</strong></p><p>&nbsp;</p><p><span class="token p">首先是读取json文件的数据。</span></p><p>&nbsp;</p><div class="cnblogs_code"> <pre>1.    <span style="color: #0000ff;">function</span><span style="color: #000000;"> loadJSON(path,callback){ </span>2.        <span style="color: #0000ff;">var</span> xhr = <span style="color: #0000ff;">new</span><span style="color: #000000;"> XMLHttpRequest(); </span>3.        xhr.onreadystatechange = <span style="color: #0000ff;">function</span><span style="color: #000000;">(){ </span>4.            <span style="color: #0000ff;">if</span> (xhr.readyState === 4<span style="color: #000000;">) { </span>5.                <span style="color: #0000ff;">if</span> (xhr.status === 200<span style="color: #000000;">) { </span>6.                   dataJson =<span style="color: #000000;"> JSON.parse(xhr.responseText); </span>7.                   callback &amp;&amp;<span style="color: #000000;"> callback(); </span>8<span style="color: #000000;">.               } </span>9<span style="color: #000000;">.           } </span>10<span style="color: #000000;">.       }; </span>11.       xhr.open("GET", path, <span style="color: #0000ff;">true</span><span style="color: #000000;">); </span>12<span style="color: #000000;">.       xhr.send(); </span>13.    }</pre> </div><p>&nbsp;</p><p><span class="token p">因为读取文件是一个异步的过程，所以要程序的展开都要放在文件读取函数的内部。</span></p><p>&nbsp;</p><div class="cnblogs_code"> <pre>1.    <span style="color: #0000ff;">function</span><span style="color: #000000;"> init(){ </span>2.        loadJSON("shanghaiMetro.json", <span style="color: #0000ff;">function</span><span style="color: #000000;">(){ </span>3<span style="color: #000000;">.            initNetwork(dataJson); </span>4<span style="color: #000000;">.            initNode(dataJson); </span>5<span style="color: #000000;">.        }); </span>6.    }</pre> </div><p>&nbsp;</p><p><span class="token p">只要通过对站点进行一次遍历，车站的建立就完成了。</span></p><p>&nbsp;</p><div class="cnblogs_code"> <pre>1.    <span style="color: #0000ff;">for</span>(staId <span style="color: #0000ff;">in</span><span style="color: #000000;"> json.stations){ </span>2.        <span style="color: #0000ff;">var</span> station =<span style="color: #000000;"> json.stations[staId]; </span>3.        staNode = <span style="color: #0000ff;">new</span><span style="color: #000000;"> twaver.Node({ </span>4<span style="color: #000000;">.            id: staId, </span>5<span style="color: #000000;">.            name: station.name, </span>6.            image:'station'<span style="color: #000000;">, </span>7<span style="color: #000000;">.        }); </span>8.        staNode.s('label.color','rgba(99,99,99,1)'<span style="color: #000000;">); </span>9.        staNode.s('label.font','12px 微软雅黑'<span style="color: #000000;">); </span>10.        staNode.s('label.position'<span style="color: #000000;">,station.label); </span>11.        staNode.setClient('location'<span style="color: #000000;">,station.loc); </span>12<span style="color: #000000;">.        box.add(staNode); </span>13.    }</pre> </div><p>&nbsp;</p><p><span class="token p">再对数据文件中的各条线路下的所有站点进行遍历，在站点间依次创建Link。</span></p><p>&nbsp;</p><div class="cnblogs_code"> <pre>1.    <span style="color: #0000ff;">for</span>(lineId <span style="color: #0000ff;">in</span><span style="color: #000000;"> json.lines) { </span>2<span style="color: #000000;">.        &hellip;&hellip; </span>3.        <span style="color: #0000ff;">for</span>(staSn <span style="color: #0000ff;">in</span><span style="color: #000000;"> line.stations) { </span>4<span style="color: #000000;">.            &hellip;&hellip; </span>5.            <span style="color: #0000ff;">var</span> link = <span style="color: #0000ff;">new</span><span style="color: #000000;"> twaver.Link(linkId,prevSta,staNode); </span>6.            link.s('link.color'<span style="color: #000000;">, line.color); </span>7.            link.s('link.width'<span style="color: #000000;">, linkWidth); </span>8<span style="color: #000000;">.            link.setToolTip(line.name); </span>9<span style="color: #000000;">.            box.add(link); </span>10<span style="color: #000000;">.        } </span>11.    }</pre> </div><p>&nbsp;</p><p><span class="token p">再对label位置进行调整，否则站点名称会显示的很乱。小弟是通过在原始数据中手动加入位置信息来实现的，稍显笨了一点，应该可以通过程序自动判断站点周围空间来进行智能调整。<span class="token lf"> <span class="token lf"> <span class="token p">最后再加入图标，一张原始的地铁图就呈现出来了。</span></span></span></span></p><p>&nbsp;</p><p><span class="token p"><img src="http://images2015.cnblogs.com/blog/311983/201611/311983-20161103144715205-1780446914.png" alt=""></span></p><p>&nbsp;</p><p>&nbsp;</p><p><strong>路线拐点的添加</strong></p><p>&nbsp;</p><p><span class="token p">基本的示意功能已经具备了，这里，小弟让我很欣赏的一点是没有就此停止，而是进一步做了调整，使线路只保留了横平竖直和正斜的走向，以达到整齐美观的效果。可能看起来与参考图稍稍有些不同，主要因为各路段基本只添加了一个拐点，这样做既大大简化了程序，又基本保证了图形的美观度。想远一点，做多一点，是块做产品的好料子。</span></p><p>&nbsp;</p><p><span class="token p"><img src="http://images2015.cnblogs.com/blog/311983/201611/311983-20161103144816315-1456837843.png" alt=""></span></p><p>&nbsp;</p><p>&nbsp;</p><p><span class="token p">当然为了提高程序的灵活性，应对必须添加两个或以上拐点的情况，也使用了人工拐点的手段。不过这里人工拐点被设成一个隐形的节点，可能利于智能拐点的判断，但也有可能在路线操作时造成混乱。如何处理更好还可以进一步推敲。</span></p><p>&nbsp;</p><div class="cnblogs_code"> <pre><span style="color: #0000ff;">var</span> createTurnSta = <span style="color: #0000ff;">function</span><span style="color: #000000;">(line, staSn){     staTurn </span>= <span style="color: #0000ff;">new</span><span style="color: #000000;"> twaver.Node(staSn);     staTurn.setImage();     staTurn.setClient(</span>'lineColor'<span style="color: #000000;">,line.color);     staTurn.setClient(</span>'lines'<span style="color: #000000;">,[line.id]);     </span><span style="color: #0000ff;">var</span> loc =<span style="color: #000000;"> line.stations[staSn];     staTurn.setClient(</span>'location'<span style="color: #000000;">,loc);     box.add(staTurn);     </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> staTurn; }</span></pre> </div><p>&nbsp;</p><p><strong>接点位置的调整</strong></p><p>&nbsp;</p><p><span class="token p">大家可以看到，并不是所有路段都直接连入站点中心，在许多情况下必须要进行偏移。</span></p><p>&nbsp;</p><div class="cnblogs_code"> <pre><span style="color: #0000ff;">var</span> createFollowSta = <span style="color: #0000ff;">function</span><span style="color: #000000;">(json, line, staNode, staId){     staFollow </span>= <span style="color: #0000ff;">new</span><span style="color: #000000;"> twaver.Follower(staId);     staFollow.setImage();     staFollow.setClient(</span>'lineColor'<span style="color: #000000;">,line.color);     staFollow.setClient(</span>'lines'<span style="color: #000000;">,[line.id]);     staFollow.setHost(staNode);     </span><span style="color: #0000ff;">var</span> az = azimuth[staId.substr(6,2<span style="color: #000000;">)];     </span><span style="color: #0000ff;">var</span> loc0 = json.stations[staId.substr(0,6<span style="color: #000000;">)].loc;     </span><span style="color: #0000ff;">var</span> loc = {x:loc0.x+az.x, y:loc0.y+<span style="color: #000000;">az.y};     staFollow.setClient(</span>'location'<span style="color: #000000;">,loc);     box.add(staFollow);     </span><span style="color: #0000ff;">return</span><span style="color: #000000;"> staFollow; }</span></pre> </div><p>&nbsp;</p><p><img src="http://images2015.cnblogs.com/blog/311983/201611/311983-20161103144955643-1549309486.png" alt=""></p><p>&nbsp;</p><p><span class="token p">小弟采取了虚拟节点的办法，就是在站点的旁边，添加一个Follower（但并不显示出来），让并行的不同线路连接到不同的Follower上。通过调整Follower的位置，来实现线路与站点连接点的控制。</span></p><p>&nbsp;</p><div class="cnblogs_code"> <pre><span style="color: #0000ff;">var</span> azimuth =<span style="color: #000000;"> {     bb: {x: </span>0, y: linkWidth*zoom/2},     tt: {x: 0, y: -linkWidth*zoom/2},     rr: {x: linkWidth*zoom/2, y: 0},     ll: {x: -linkWidth/2, y: 0},     br: {x: linkWidth*zoom*0.7/2, y: linkWidth*zoom*0.7/2<span style="color: #000000;">},     bl: {x: </span>-linkWidth*zoom*0.7/2, y: linkWidth*zoom*0.7/2<span style="color: #000000;">},     tr: {x: linkWidth</span>*zoom*0.7/2, y: -linkWidth*zoom*0.7/2<span style="color: #000000;">},     tl: {x: </span>-linkWidth*zoom*0.7/2, y: -linkWidth*zoom*0.7/2<span style="color: #000000;">},     BB: {x: </span>0, y: linkWidth*<span style="color: #000000;">zoom},     TT: {x: </span>0, y: -linkWidth*<span style="color: #000000;">zoom},     RR: {x: linkWidth</span>*zoom, y: 0<span style="color: #000000;">},     LL: {x: </span>-linkWidth, y: 0<span style="color: #000000;">},     BR: {x: linkWidth</span>*zoom*0.7, y: linkWidth*zoom*0.7<span style="color: #000000;">},     BL: {x: </span>-linkWidth*zoom*0.7, y: linkWidth*zoom*0.7<span style="color: #000000;">},     TR: {x: linkWidth</span>*zoom*0.7, y: -linkWidth*zoom*0.7<span style="color: #000000;">},     TL: {x: </span>-linkWidth*zoom*0.7, y: -linkWidth*zoom*0.7<span style="color: #000000;">} };</span></pre> </div><p>&nbsp;</p><p><span class="token p">介绍到这里就结束了，虽然是个小例子，实在是但美观性和实用性都还过得去，小弟花了心思去做，其实稍加改造就可以做出高铁图、公交图、运行图等应用。设想一下，如果能用在轨道交通列控中心大屏监控里，是多么炫酷。说到这，又想起了前段时间云栖大会上刚看到的杭州城市数据大脑，不知何时，哥也能参与一把那样的项目呢？可视化，哥的强项&hellip;&hellip;<span class="token lf"> <span class="token lf"> <span class="token p">最后，想要看程序，或者想玩&ldquo;地铁拖拖乐&rdquo;的各位，都可以给我留言和发邮件：<span class="token link"><span class="token md md-bracket-start"><span class="token md md-underlined-text">tw-service@servasoft.com<span class="token md md-bracket-end"><span class="token md md-href"><span class="token md md-paren-end">。</span></span></span></span></span></span></span></span></span></span></p>